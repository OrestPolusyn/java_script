"use strict";var formBookmark=document.querySelector(".js-form"),list=document.querySelector(".bookmarks-list"),source=document.querySelector("#urls-card").innerHTML.trim(),template=Handlebars.compile(source),siteName=document.querySelector(".js-siteName"),siteUrl=document.querySelector(".js-siteUrl"),addBtn=document.querySelector(".add");function saveBookmarks(e){if(e.preventDefault(),siteName.value&&siteUrl.value){var t=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi);if(!siteUrl.value.match(t))return alert("Будь ласка введіть валідний URL"),!1;localStorage.getItem("bookmarks",JSON.stringify([]));var r={name:siteName.value,url:siteUrl.value};if(null==localStorage.getItem("bookmarks")){var o=[];o.push(r),localStorage.setItem("bookmarks",JSON.stringify(o)),list.innerHTML=template(o)}else{if(localStorage.getItem("bookmarks").includes(r.url))alert("Така закладка вже існує");else{var a=JSON.parse(localStorage.getItem("bookmarks"));a.unshift(r),localStorage.setItem("bookmarks",JSON.stringify(a))}var l=JSON.parse(localStorage.getItem("bookmarks"));localStorage.setItem("bookmarks",JSON.stringify(l)),list.innerHTML=template(l)}}else alert("Будь-ласка введіть дані")}function deleteBookmarks(e){e.preventDefault();var t=e.target.closest(".card"),r=JSON.parse(localStorage.getItem("bookmarks"));console.log(r);var o=t.querySelector(".site-url a").textContent;console.log("url:",o);var a=r.filter(function(e){return e.url!==o});console.log("bookmarks:",a),t.remove(),localStorage.setItem("bookmarks",JSON.stringify(a))}addBtn.addEventListener("click",saveBookmarks),formBookmark.addEventListener("click",deleteBookmarks);